(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(71)},46:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a,r,c,o,l=n(0),i=n.n(l),s=n(34),u=n.n(s),m=n(9),f=n(14),d=n(16),g=n(15),p=n(17),h=n(18),b=n(2),v=n(7),E=n(20),j=n(21),O=(n(46),n(13)),y=n.n(O),k=n(24),w=function e(){var t=this;Object(m.a)(this,e),this.getResource=function(){var e=Object(k.a)(y.a.mark(function e(n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n,", received ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllFriends=Object(k.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/friends/");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),this.getFriend=function(){var e=Object(k.a)(y.a.mark(function e(n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/friends/".concat(n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getProfile=Object(k.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/profile/");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),this.getToken=Object(k.a)(y.a.mark(function e(){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/token/");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),this.postToken=function(){var e=Object(k.a)(y.a.mark(function e(n){var a,r,c,o=arguments;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"/token/",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})},e.next=4,fetch("".concat(t._apiBase).concat(a),r);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(a,", received ").concat(c.status));case 7:return e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this._apiBase="https://my-json-server.typicode.com/Sens3ii/react-my-friends"},x=j.a.div(a||(a=Object(E.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\theight: 80px;\n"]))),N=j.a.h3(r||(r=Object(E.a)(["\n\tfont-size: 24px;\n\tcolor: #fff;\n\tmargin-right: 120px;\n"]))),S=j.a.h3(c||(c=Object(E.a)(["\n\tfont-size: 20px;\n\tcolor: #fff;\n"]))),L=j.a.ul(o||(o=Object(E.a)(["\n\tdisplay: flex;\n\tmargin: 0;\n\talign-items: center;\n\tcolor: #fff;\n\tlist-style-type: none;\n\tli {\n\t\tmargin-right: 20px;\n\t\tfont-size: 18px;\n\t}\n"]))),C=function(){var e=Object(l.useState)(!1),t=Object(v.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(function(){return new w}),c=Object(v.a)(r,1)[0];Object(l.useEffect)(function(){o()},[]);var o=function(){c.getToken().then(function(e){console.log(e.token),e.token.length>0&&a(!0)})},s=n?i.a.createElement(h.b,{onClick:function(){c.postToken(""),a(!1),window.location.reload()}},"Logout"):i.a.createElement(h.b,{to:"/login"},"Login");return i.a.createElement(x,null,i.a.createElement("div",{className:"header__left"},i.a.createElement(N,null,i.a.createElement(h.b,{to:"/home"},"Home")),i.a.createElement(L,null,i.a.createElement("li",null,i.a.createElement(h.b,{to:"/profile"},"Profile")),i.a.createElement("li",null,i.a.createElement(h.b,{to:"/friends/"},"Friends")))),i.a.createElement(S,null,s))},I=(n(56),n(58),function(){return i.a.createElement("div",{className:"loadingio-spinner-cube-qw9t558acd"},i.a.createElement("div",{className:"ldio-l3dkhenxt19"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))});var T,D=function(e){var t=e.getData,n=e.onItemSelected,a=e.renderItem,r=Object(l.useState)([]),c=Object(v.a)(r,2),o=c[0],s=c[1],u=Object(l.useState)(!1),m=Object(v.a)(u,2),f=m[0],d=m[1];if(Object(l.useEffect)(function(){var e=new AbortController;return t.then(function(e){s(e),d(!0)}),function(){return e.abort()}},[]),!f)return i.a.createElement(I,null);var g=o.map(function(e){var t=e.id,r=a(e);return i.a.createElement("li",{key:t,className:"list-group-item",onClick:function(){return n(t)}},r)});return i.a.createElement("ul",{className:"item-list list-group mb-3"},g)},A=(n(60),function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{src:"/react-my-friends/img/error.jpeg",alt:"Error"}))}),P=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).gotService=new w,n.state={error:!1,isLogged:!1},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"componentDidMount",value:function(){this.updateLogin()}},{key:"updateLogin",value:function(){var e=this;this.gotService.getToken().then(function(t){console.log(t.token),t.token.length>0&&(e.setState({isLogged:!0}),console.log("Logged"))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,a=t.isLogged;return n?i.a.createElement(A,null):a?i.a.createElement(D,{onItemSelected:function(t){e.props.history.push(t)},getData:this.gotService.getAllFriends(),renderItem:function(e){return"".concat(e.name," (").concat(e.age,")")}}):i.a.createElement("div",{className:"mb-2 lead"},"You are not authed! Please login in to the system")}}]),t}(l.Component),F=Object(b.g)(P),z=j.a.div(T||(T=Object(E.a)(["\n\tbackground-color: #fff;\n\tpadding: 25px 25px 15px 25px;\n\th4 {\n\t\tmargin-bottom: 20px;\n\t\ttext-align: center;\n\t}\n"])));var R,Y,_=function(e){var t=e.item,n=e.children,a=t.name;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,a),i.a.createElement("ul",{className:"list-group list-group-flush"},i.a.Children.map(n,function(e){return i.a.cloneElement(e,{item:t})})))},B=function(e){var t=e.item,n=e.field,a=e.label;return i.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},i.a.createElement("span",{className:"term"},a),i.a.createElement("span",null,t[n]))},M=function(e){var t=e.itemId,n=e.getData,a=e.children;Object(l.useEffect)(function(){b(!1),j()},[t]);var r=Object(l.useState)({}),c=Object(v.a)(r,2),o=c[0],s=c[1],u=Object(l.useState)(!1),m=Object(v.a)(u,2),f=m[0],d=m[1],g=Object(l.useState)(!1),p=Object(v.a)(g,2),h=p[0],b=p[1],E=function(){d(!0),b(!0)},j=function(){t&&n(t).then(function(e){s(e),d(!1),b(!0)}).catch(E)};if(!o&&h)return i.a.createElement(z,{className:"rounded mb-3"},i.a.createElement("h4",null,"Select an item from the list"));var O=f?i.a.createElement(A,null):null,y=h?null:i.a.createElement(I,null),k=h&&!f?i.a.createElement(_,{item:o,children:a}):null;return i.a.createElement(z,{className:"rounded mb-3"},O,y,k)},J=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).gotService=new w,n.state={isLogged:!1},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.updateLogin()}},{key:"updateLogin",value:function(){var e=this;this.gotService.getToken().then(function(t){console.log(t.token),t.token.length>0&&(e.setState({isLogged:!0}),console.log("Logged"))})}},{key:"render",value:function(){return this.state.isLogged?i.a.createElement(M,{itemId:this.props.friendId,getData:this.gotService.getFriend},i.a.createElement(B,{field:"name",label:"Name"}),i.a.createElement(B,{field:"age",label:"Age"}),i.a.createElement(B,{field:"country",label:"Country"})):i.a.createElement("div",{className:"mb-2 lead"},"You are not authed! Please login in to the system")}}]),t}(l.Component),$=j.a.div(R||(R=Object(E.a)(["\n\tcolor: #fff;\n"]))),G=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).gotService=new w,n.state={isLogged:!1},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.updateLogin()}},{key:"updateLogin",value:function(){var e=this;this.gotService.getToken().then(function(t){console.log(t.token),t.token.length>0&&(e.setState({isLogged:!0}),console.log("Logged"))})}},{key:"render",value:function(){var e=this.state.isLogged?i.a.createElement("div",{className:"mb-2 lead"},"You are in the system!"):i.a.createElement("div",{className:"mb-2 lead"},"You are not authed! Please login in to the system");return i.a.createElement($,{className:"d-flex flex-row align-items-center my-4 pt-4"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement("div",{className:"col-md-12 text-center"},i.a.createElement("span",{className:"display-3 d-block mb-4"},"Welcome to the homepage!"),e))))}}]),t}(l.Component),H=j.a.div(Y||(Y=Object(E.a)(["\n\tcolor: #fff;\n"]))),q=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement(H,{className:"d-flex flex-row align-items-center mt-5 pt-3"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement("div",{className:"col-md-12 text-center"},i.a.createElement("span",{className:"display-1 d-block"},"404"),i.a.createElement("div",{className:"mb-4 lead"},"The page you are looking for not found"),i.a.createElement(h.b,{to:"/home",className:"btn btn-dark"},"Home")))))}}]),t}(l.Component),W=n(22),K=n(38);n(62);function Q(e){var t=Object(l.useState)(!1),n=Object(v.a)(t,2),a=n[0],r=n[1],c=Object(l.useState)(!1),o=Object(v.a)(c,2),s=o[0],u=o[1],m=Object(l.useState)(!1),f=Object(v.a)(m,2),d=f[0],g=f[1];Object(l.useEffect)(function(){u(!1),p()});var p=function(){T.getToken().then(function(e){console.log(e.token),e.token.length>0&&u(!0)})},h=function(){r(!0)},E=function(){g(!0)},j=function(){T.postToken("$#$#$3434343f3f3f"),u(!0),window.location.reload()},O=Object(l.useState)(""),y=Object(v.a)(O,2),k=y[0],x=y[1],N=Object(l.useState)(""),S=Object(v.a)(N,2),L=S[0],C=S[1],I=Object(l.useState)(function(){return new w}),T=Object(v.a)(I,1)[0];var D=a?i.a.createElement(A,null):null,P=d?"Incorrect password or email":null,F=s?i.a.createElement(b.a,{to:"/"}):null;return i.a.createElement(i.a.Fragment,null,D,P,F,i.a.createElement("div",{className:"login"},i.a.createElement(W.a,{onSubmit:function(e){e.preventDefault(),T.getProfile().then(function(e){e.email===k&&e.password===L?(console.log("correct"),j()):(console.log("Incorrect"),E())}).catch(h)}},i.a.createElement(W.a.Group,{size:"lg",controlId:"email"},i.a.createElement(W.a.Label,null,"Email (test@test.com)"),i.a.createElement(W.a.Control,{autoFocus:!0,type:"email",value:k,onChange:function(e){return x(e.target.value)}})),i.a.createElement(W.a.Group,{size:"lg",controlId:"password"},i.a.createElement(W.a.Label,null,"Password (123123)"),i.a.createElement(W.a.Control,{type:"password",value:L,onChange:function(e){return C(e.target.value)}})),i.a.createElement(K.a,{className:"btn-submit",block:!0,size:"lg",type:"submit",disabled:!(k.length>0&&L.length>0)},"Login"))))}var U=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).gotService=new w,n.state={isLogged:!1},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.updateLogin()}},{key:"updateLogin",value:function(){var e=this;this.gotService.getToken().then(function(t){console.log(t.token),t.token.length>0&&(e.setState({isLogged:!0}),console.log("Logged"))})}},{key:"render",value:function(){return this.state.isLogged?i.a.createElement(M,{itemId:5,getData:this.gotService.getProfile},i.a.createElement(B,{field:"name",label:"Name"}),i.a.createElement(B,{field:"age",label:"Age"}),i.a.createElement(B,{field:"country",label:"Country"})):i.a.createElement("div",{className:"mb-2 lead"},"You are not authed! Please login in to the system")}}]),t}(l.Component),V=(n(65),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},n}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?i.a.createElement(A,null):i.a.createElement(h.a,null,i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"container",styles:"background-color: rgba(0,0,0,0.8);"},i.a.createElement(C,null)),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement("div",{className:"col-md-9 text-center"},i.a.createElement(b.d,null,i.a.createElement(b.b,{exact:!0,path:"/",render:function(){return i.a.createElement(b.a,{to:"/home"})}}),i.a.createElement(b.b,{path:"/home",exact:!0,component:G}),i.a.createElement(b.b,{path:"/profile",exact:!0,component:U}),i.a.createElement(b.b,{path:"/friends/",exact:!0,component:F}),i.a.createElement(b.b,{path:"/friends/:id",render:function(e){var t=e.match,n=(e.location,e.history,t.params.id);return i.a.createElement(J,{friendId:n})}}),i.a.createElement(b.b,{path:"/login",exact:!0,component:Q}),i.a.createElement(b.b,{path:"*",exact:!0,component:q})))))))}}]),t}(l.Component));n(67),n(69);u.a.render(i.a.createElement(V,null),document.getElementById("root"))}},[[41,2,1]]]);
//# sourceMappingURL=main.ed1edbef.chunk.js.map